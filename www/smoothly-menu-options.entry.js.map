{"file":"smoothly-menu-options.entry.esm.js","mappings":"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","names":[],"sources":["./node_modules/smoothly/dist/collection/components/menu-options/style.css?tag=smoothly-menu-options&encapsulation=shadow","./node_modules/smoothly/dist/collection/components/menu-options/index.js"],"sourcesContent":[":host {\n  max-height: 18.75rem;\n  width: 85%;\n  max-height: var(--max-menu-height);\n  box-sizing: border-box;\n  background-color: rgb(var(--smoothly-default-color));\n  border-radius: 0.25em;\n  color: rgb(var(--smoothly-primary-color));\n  stroke: rgb(var(--smoothly-primary-color));\n  fill: rgb(var(--smoothly-primary-color));\n  box-shadow: 0px 2px 1.5rem rgba(64, 60, 57, 0.08), inset 0px 0px 1px rgba(64, 60, 57, 0.4);\n  overflow-y: auto;\n  cursor: pointer;\n}\n\n:host:first-child {\n  margin: 10em;\n}","import { Component, Element, h, Host, Listen, Method, Prop, State, Watch } from \"@stencil/core\";\nexport class SmoothlyMenuOptions {\n  constructor() {\n    this.filteredOptions = [];\n    this.highlightIndex = 0;\n    this.emptyMenuLabel = \"No Options\";\n    this.order = false;\n    this.options = [];\n    this.resetHighlightOnOptionsChange = true;\n  }\n  optionsChangeHandler(newOptions) {\n    this.highlightIndex = this.resetHighlightOnOptionsChange ? 0 : this.highlightIndex;\n  }\n  optionHoverHandler(event) {\n    if (event.detail.value)\n      this.setHighlight(event.detail.value);\n    event.stopPropagation();\n  }\n  async moveHighlight(step) {\n    if (this.filteredOptions.length > 0)\n      this.setHighlight((this.highlightIndex + step + this.filteredOptions.length) % this.filteredOptions.length, true);\n  }\n  async setHighlight(newIndex, scrollToHighlight = false) {\n    if (typeof newIndex == \"number\") {\n      this.highlightIndex = newIndex;\n      scrollToHighlight && this.scrollTo(this.highlightIndex);\n    }\n    else {\n      const value = newIndex;\n      let isHighlightSet = false;\n      this.filteredOptions.forEach((option, index) => {\n        const highlight = option.value == value;\n        this.highlightIndex = highlight ? index : this.highlightIndex;\n        highlight && scrollToHighlight && this.scrollTo(index);\n        isHighlightSet = highlight ? true : isHighlightSet;\n      });\n      if (!isHighlightSet)\n        this.setHighlight(0, true);\n    }\n  }\n  async getHighlighted() {\n    let result = undefined;\n    if (this.highlightIndex != undefined && this.filteredOptions.length > 0)\n      result = this.filteredOptions[this.highlightIndex];\n    return result;\n  }\n  async filterOptions(keyword, excludeValues = []) {\n    const keywordLowercase = keyword.toLowerCase();\n    this.filteredOptions = [];\n    for (const option of this.options) {\n      const names = option.name + (option.aliases ? option.aliases.join(\" \") : \"\");\n      const isVisible = names.toLowerCase().includes(keywordLowercase) && !excludeValues.includes(option.value);\n      isVisible && this.filteredOptions.push(option);\n    }\n    this.order && this.sortOptions(keyword);\n  }\n  sortOptions(keyword) {\n    const keywordLowercase = keyword.toLowerCase();\n    this.filteredOptions.sort((a, b) => {\n      return this.getPriorityScore(a, keywordLowercase) - this.getPriorityScore(b, keywordLowercase);\n    });\n  }\n  getPriorityScore(option, keywordLowercase) {\n    let result = Number.MAX_SAFE_INTEGER;\n    const name = option.name;\n    const aliases = option.aliases ? option.aliases.join(\" \") : \"\";\n    const names = `${name ? name : \"\"} ${aliases ? aliases : \"\"}`.toLowerCase();\n    if (name) {\n      result = names.split(\" \").reduce((minIndex, word) => {\n        const index = word.indexOf(keywordLowercase);\n        return index != -1 && index < minIndex ? index : minIndex;\n      }, Number.MAX_SAFE_INTEGER);\n    }\n    return result;\n  }\n  scrollTo(optionIndex) {\n    var _a;\n    const optionHeight = (_a = this.firstOptionsElement) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height;\n    if (optionHeight) {\n      const menuHeight = this.element.getBoundingClientRect().height;\n      const scrollPosition = this.element.scrollTop;\n      const optionPosition = optionIndex * optionHeight;\n      const numOptionsInMenu = Math.floor(menuHeight / optionHeight);\n      if (optionPosition - optionHeight / 2 < scrollPosition)\n        this.element.scrollTo({ top: (optionIndex - 1) * optionHeight });\n      else if (scrollPosition < optionPosition + optionHeight - menuHeight)\n        this.element.scrollTo({ top: (optionIndex + 1 - numOptionsInMenu) * optionHeight });\n    }\n  }\n  render() {\n    return (h(Host, { style: { \"--max-menu-height\": this.maxMenuHeight } }, this.filteredOptions.length > 0 ? (this.filteredOptions.map((option, index) => (h(\"smoothly-option\", { style: this.optionStyle, ref: el => index == 0 && (this.firstOptionsElement = el !== null && el !== void 0 ? el : this.firstOptionsElement), value: option.value, name: option.name, divider: option.divider, \"data-highlight\": this.highlightIndex == index },\n      option.left ? h(\"div\", { slot: \"left\" }, option.left) : undefined,\n      option.right ? h(\"div\", { slot: \"right\" }, option.right) : undefined)))) : (h(\"div\", null, this.emptyMenuLabel))));\n  }\n  static get is() { return \"smoothly-menu-options\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() { return {\n    \"$\": [\"style.scss\"]\n  }; }\n  static get styleUrls() { return {\n    \"$\": [\"style.css\"]\n  }; }\n  static get properties() { return {\n    \"emptyMenuLabel\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"string\",\n        \"resolved\": \"string\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"empty-menu-label\",\n      \"reflect\": false,\n      \"defaultValue\": \"\\\"No Options\\\"\"\n    },\n    \"maxMenuHeight\": {\n      \"type\": \"string\",\n      \"mutable\": false,\n      \"complexType\": {\n        \"original\": \"\\\"inherit\\\"\",\n        \"resolved\": \"\\\"inherit\\\"\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"max-menu-height\",\n      \"reflect\": false\n    },\n    \"order\": {\n      \"type\": \"boolean\",\n      \"mutable\": false,\n      \"complexType\": {\n        \"original\": \"boolean\",\n        \"resolved\": \"boolean\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"order\",\n      \"reflect\": false,\n      \"defaultValue\": \"false\"\n    },\n    \"optionStyle\": {\n      \"type\": \"any\",\n      \"mutable\": false,\n      \"complexType\": {\n        \"original\": \"any\",\n        \"resolved\": \"any\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"option-style\",\n      \"reflect\": false\n    },\n    \"options\": {\n      \"type\": \"unknown\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"OptionType[]\",\n        \"resolved\": \"OptionType[]\",\n        \"references\": {\n          \"OptionType\": {\n            \"location\": \"import\",\n            \"path\": \"../../model\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"defaultValue\": \"[]\"\n    },\n    \"resetHighlightOnOptionsChange\": {\n      \"type\": \"boolean\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"boolean\",\n        \"resolved\": \"boolean\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"reset-highlight-on-options-change\",\n      \"reflect\": false,\n      \"defaultValue\": \"true\"\n    }\n  }; }\n  static get states() { return {\n    \"filteredOptions\": {},\n    \"highlightIndex\": {}\n  }; }\n  static get methods() { return {\n    \"moveHighlight\": {\n      \"complexType\": {\n        \"signature\": \"(step: number) => Promise<void>\",\n        \"parameters\": [{\n            \"tags\": [],\n            \"text\": \"\"\n          }],\n        \"references\": {\n          \"Promise\": {\n            \"location\": \"global\"\n          }\n        },\n        \"return\": \"Promise<void>\"\n      },\n      \"docs\": {\n        \"text\": \"\",\n        \"tags\": []\n      }\n    },\n    \"setHighlight\": {\n      \"complexType\": {\n        \"signature\": \"(newIndex: number | string, scrollToHighlight?: boolean) => Promise<void>\",\n        \"parameters\": [{\n            \"tags\": [],\n            \"text\": \"\"\n          }, {\n            \"tags\": [],\n            \"text\": \"\"\n          }],\n        \"references\": {\n          \"Promise\": {\n            \"location\": \"global\"\n          }\n        },\n        \"return\": \"Promise<void>\"\n      },\n      \"docs\": {\n        \"text\": \"\",\n        \"tags\": []\n      }\n    },\n    \"getHighlighted\": {\n      \"complexType\": {\n        \"signature\": \"() => Promise<OptionType | undefined>\",\n        \"parameters\": [],\n        \"references\": {\n          \"Promise\": {\n            \"location\": \"global\"\n          },\n          \"OptionType\": {\n            \"location\": \"import\",\n            \"path\": \"../../model\"\n          }\n        },\n        \"return\": \"Promise<OptionType | undefined>\"\n      },\n      \"docs\": {\n        \"text\": \"\",\n        \"tags\": []\n      }\n    },\n    \"filterOptions\": {\n      \"complexType\": {\n        \"signature\": \"(keyword: string, excludeValues?: string[]) => Promise<void>\",\n        \"parameters\": [{\n            \"tags\": [],\n            \"text\": \"\"\n          }, {\n            \"tags\": [],\n            \"text\": \"\"\n          }],\n        \"references\": {\n          \"Promise\": {\n            \"location\": \"global\"\n          }\n        },\n        \"return\": \"Promise<void>\"\n      },\n      \"docs\": {\n        \"text\": \"\",\n        \"tags\": []\n      }\n    }\n  }; }\n  static get elementRef() { return \"element\"; }\n  static get watchers() { return [{\n      \"propName\": \"options\",\n      \"methodName\": \"optionsChangeHandler\"\n    }]; }\n  static get listeners() { return [{\n      \"name\": \"optionHover\",\n      \"method\": \"optionHoverHandler\",\n      \"target\": undefined,\n      \"capture\": false,\n      \"passive\": false\n    }]; }\n}\n"],"version":3}