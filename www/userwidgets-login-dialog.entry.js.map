{"file":"userwidgets-login-dialog.entry.esm.js","mappings":";;;;;;;;AAAA,MAAM,QAAQ,GAAG,u4BAAu4B;;MCS34B,KAAK;;;;;;EAIjB,MAAM,YAAY,CAAC,KAA0C;IAC5D,KAAK,CAAC,cAAc,EAAE,CAAA;IACtB,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAyB,CAAC,CAAC,CAAA;IACrF,IAAI,CAACA,IAAsB,CAAC,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE;MACxD,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAA;MAClC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+CAA+C,CAAC,CAAC,CAAA;KAC9E;SAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;MAChD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;MAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iCAAiC,CAAC,CAAC,CAAA;KAChE;;MACA,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;GAC7B;EAED,MAAM;IACL,QACC,WAAK,KAAK,EAAC,iBAAiB,IAC3B,WAAK,KAAK,EAAC,qBAAqB,IAC/B,gBACC,sBAAgB,IAAI,EAAC,OAAO,EAAC,IAAI,EAAC,MAAM,YAEvB,EACjB,sBAAgB,IAAI,EAAC,UAAU,EAAC,IAAI,EAAC,UAAU,eAE9B,EACjB,mCAAwC,EACxC,6CAC6B,SAAG,IAAI,EAAC,WAAW,2BAAyB,CACrE,CACE,CACF,CACD,EACN;GACD;;;;;;","names":["model.userwidgets.User"],"sources":["./src/components/user/login/dialog/style.css?tag=userwidgets-login-dialog&encapsulation=scoped","./src/components/user/login/dialog/index.tsx"],"sourcesContent":[":host {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tpadding: 0 1em;\n\theight: 100%;\n}\n\n.background {\n\tbackground-color: rgba(255, 255, 255, 0.55);\n}\n\n.page {\n\tposition: absolute;\n\twidth: 100%;\n\tz-index: 100;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n}\n\n.viewport {\n\tposition: sticky;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\ttop: 0;\n\twidth: 100%;\n}\n\nform {\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 1em;\n\tpadding: 2em;\n\tmax-width: 500px;\n\tborder: 1px solid black;\n\twidth: 100%;\n}\n\nsmoothly-input {\n\tborder-bottom: 1px solid black;\n}\n\nsmoothly-submit {\n\tborder: none;\n}\n\nsmoothly-submit > button {\n\twidth: 100%;\n}\n\n.button.sc-smoothly-submit {\n\twidth: 100%;\n}\n","import { Component, Event, EventEmitter, h, Listen } from \"@stencil/core\"\nimport { Notice } from \"smoothly\"\nimport { model } from \"../../../../model\"\n\n@Component({\n\ttag: \"userwidgets-login-dialog\",\n\tstyleUrl: \"style.css\",\n\tscoped: true,\n})\nexport class Login {\n\t@Event() notice: EventEmitter<Notice>\n\t@Event() login: EventEmitter<model.userwidgets.User.Credentials>\n\t@Listen(\"submit\")\n\tasync handleSubmit(event: CustomEvent<Record<string, string>>) {\n\t\tevent.preventDefault()\n\t\tconst credentials = Object.fromEntries(new FormData(event.target as HTMLFormElement))\n\t\tif (!model.userwidgets.User.Credentials.is(credentials)) {\n\t\t\tconsole.log(\"missing email or pw\")\n\t\t\tthis.notice.emit(Notice.warn(\"Both email and password is required to login.\"))\n\t\t} else if (!credentials.user.match(/^\\S+@\\S+$/)) {\n\t\t\tconsole.log(\"not an email\")\n\t\t\tthis.notice.emit(Notice.warn(\"Provided email is not an email.\"))\n\t\t} else\n\t\t\tthis.login.emit(credentials)\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div class=\"page background\">\n\t\t\t\t<div class=\"viewport background\">\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<smoothly-input type=\"email\" name=\"user\">\n\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t</smoothly-input>\n\t\t\t\t\t\t<smoothly-input type=\"password\" name=\"password\">\n\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t</smoothly-input>\n\t\t\t\t\t\t<smoothly-submit>Login</smoothly-submit>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tDo you not have an account? <a href=\"/register\">Create a new account</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n"],"version":3}