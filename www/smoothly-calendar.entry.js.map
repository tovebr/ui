{"file":"smoothly-calendar.entry.esm.js","mappings":";;;;AAAA,MAAM,QAAQ,GAAG,w2DAAw2D;;MCG52D,QAAQ;EACnB;;;;;;;IACE,IAAI,CAAC,KAAK,GAAGA,SAAI,CAAC,GAAG,EAAE,CAAC;IACxB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;GACvB;EACD,OAAO,CAAC,IAAI;IACV,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GAC9B;EACD,KAAK,CAAC,IAAI;IACR,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GAC5B;EACD,OAAO,CAAC,IAAI;IACV,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC;IAC5C,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC;IACvB,IAAI,IAAI,CAAC,WAAW,EAAE;MACpB,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;WAC5C;QACH,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK;UACjC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;;UAEhB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;OACrB;KACF;IACD,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACnD,IAAI,CAAC,WAAW;MACd,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC;MAC1B,IAAI,CAAC,KAAK;MACV,IAAI,CAAC,GAAG;MACR,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;GAChE;EACD,OAAO,CAAC,IAAI;IACV,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,EAAE;MAClD,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC;OAC5B;WACI;QACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;QAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;OACjB;KACF;GACF;EACD,MAAM;IACJ,IAAI,EAAE,EAAE,EAAE,CAAC;IACX,OAAO;MACL,CAAC,CAAC,sBAAsB,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,cAAc,EAAE,KAAK;UACnH,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;UAC1B,KAAK,CAAC,eAAe,EAAE,CAAC;SACzB,EAAE,CAAC;MACN,CAAC,CAAC,OAAO,EAAE,IAAI,EACb,CAAC,CAAC,OAAO,EAAE,IAAI,EACb,CAAC,CAAC,IAAI,EAAE,IAAI,EAAEC,QAAiB,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EACtEC,KAAc,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI;QACpH,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QACf,QAAQ,CAAC,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE,WAAW,EAAE;YACxC,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;gBAC/E,SAAS;gBACT,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;WACxB,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,UAAU,CAAC,GAAG,EAAE;aAC9J,MAAM,CAAC,IAAI,IAAI,IAAIF,SAAI,CAAC,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAEA,SAAI,CAAC,YAAY,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAIA,SAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,WAAW;cACrM,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI;gBACpC,CAAC,UAAU,CAAC;gBACZ,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;kBAC9H,CAAC,WAAW,CAAC;kBACb,EAAE;cACN,EAAE,CAAC;aACJ,MAAM,CAAC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;aAChG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;OAC3C,CAAC,CAAC,CAAC,CAAC,CAAC;KACT,CAAC;GACH;;;;;;;;;;;","names":["Date","generate.weekdays","generate.month"],"sources":["./node_modules/smoothly/dist/collection/components/calendar/style.css?tag=smoothly-calendar&encapsulation=scoped","./node_modules/smoothly/dist/collection/components/calendar/index.js"],"sourcesContent":[":host {\n\tdisplay: block;\n\t--other-month-opacity: 0.5;\n}\n:host > smoothly-input-month {\n\twidth: calc(100% - 1em);\n\tpadding: 0.5em 0.5em 0 0.5em;\n}\nth,\ntd {\n\ttext-align: center;\n\tpadding: 0.5em;\n\tmin-width: 2em;\n\tbackground-color: rgb(var(--smoothly-default-shade));\n\tcursor: pointer;\n\tuser-select: none;\n}\ntd.currentMonth {\n\tcolor: rgb(var(--smoothly-default-contrast));\n}\ntd:not(.currentMonth) {\n\tcolor: rgba(var(--smoothly-default-contrast), var(--other-month-opacity));\n}\ntd:nth-child(6):not(.currentMonth).selected,\ntd:nth-child(6):not(.currentMonth).dateRange,\ntd:nth-child(7):not(.currentMonth).selected,\ntd:nth-child(7):not(.currentMonth).dateRange {\n\tcolor: rgba(var(--smoothly-default-contrast));\n}\ntd:nth-child(6),\ntd:nth-child(7) {\n\tcolor: rgb(var(--smoothly-danger-tint));\n}\ntd:nth-child(6):not(.currentMonth),\ntd:nth-child(7):not(.currentMonth) {\n\tcolor: rgba(var(--smoothly-danger-tint), var(--other-month-opacity));\n}\ntd:not(.selected,.disable):hover {\n\tcolor: rgb(var(--smoothly-primary-contrast));\n\tbackground: rgb(var(--smoothly-primary-tint));\n}\ntd.selected {\n\tcolor: rgb(var(--smoothly-primary-contrast));\n\tbackground: rgb(var(--smoothly-primary-color));\n}\ntd:not(.selected,.dateRange):not(:hover).today {\n\tbackground: rgb(var(--smoothly-dark-tint));\n\tcolor: rgb(var(--smoothly-dark-contrast));\n}\ntd.dateRange {\n\tcolor: rgb(var(--smoothly-primary-contrast));\n\tbackground: rgb(var(--smoothly-primary-tint));\n}\ntd.disable {\n\tcursor: not-allowed;\n\tbackground-color: rgb(var(--smoothly-default-tint), 0.5);\n\tcolor: rgb(var(--smoothly-default-contrast), 0.5);\n}\n\n","import { Component, Element, Event, h, Prop, State, Watch } from \"@stencil/core\";\nimport { Date } from \"isoly\";\nimport * as generate from \"./generate\";\nexport class Calendar {\n  constructor() {\n    this.value = Date.now();\n    this.clickCounter = 0;\n  }\n  onStart(next) {\n    this.startChanged.emit(next);\n  }\n  onEnd(next) {\n    this.endChanged.emit(next);\n  }\n  onClick(date) {\n    this.valueChanged.emit((this.value = date));\n    this.clickCounter += 1;\n    if (this.doubleInput) {\n      if (this.clickCounter % 2 == 1)\n        this.start = this.end = this.frozenDate = date;\n      else {\n        if (this.start && date > this.start)\n          this.end = date;\n        else\n          this.start = date;\n      }\n    }\n    !this.doubleInput && this.dateSet.emit(this.value);\n    this.doubleInput &&\n      this.clickCounter % 2 == 0 &&\n      this.start &&\n      this.end &&\n      this.dateRangeSet.emit({ start: this.start, end: this.end });\n  }\n  onHover(date) {\n    if (this.doubleInput && this.clickCounter % 2 == 1) {\n      if (date < this.frozenDate) {\n        this.start = date;\n        this.end = this.frozenDate;\n      }\n      else {\n        this.start = this.frozenDate;\n        this.end = date;\n      }\n    }\n  }\n  render() {\n    var _a, _b;\n    return [\n      h(\"smoothly-input-month\", { value: (_a = this.month) !== null && _a !== void 0 ? _a : this.value, onValueChanged: event => {\n          this.month = event.detail;\n          event.stopPropagation();\n        } }),\n      h(\"table\", null,\n        h(\"thead\", null,\n          h(\"tr\", null, generate.weekdays().map(day => (h(\"th\", null, day))))),\n        generate.month((_b = this.month) !== null && _b !== void 0 ? _b : this.value).map(week => (h(\"tr\", null, week.map(date => {\n          var _a, _b, _c;\n          return (h(\"td\", { tabindex: 1, onMouseOver: () => {\n              !this.doubleInput && (this.min || this.max) && (date < this.min || date > this.max)\n                ? undefined\n                : this.onHover(date);\n            }, onClick: (this.min || this.max) && (date < this.min || date > this.max) ? undefined : () => this.onClick(date), class: (date == this.value ? [\"selected\"] : [])\n              .concat(...(date == Date.now() ? [\"today\"] : []), Date.firstOfMonth((_a = this.month) !== null && _a !== void 0 ? _a : this.value) == Date.firstOfMonth(date) ? [\"currentMonth\"] : [], this.doubleInput\n              ? this.start == date || this.end == date\n                ? [\"selected\"]\n                : date >= ((_b = this.start) !== null && _b !== void 0 ? _b : \"\") && date <= ((_c = this.end) !== null && _c !== void 0 ? _c : \"\")\n                  ? [\"dateRange\"]\n                  : []\n              : \"\")\n              .concat(...(this.min || this.max ? (date < this.min || date > this.max ? [\"disable\"] : []) : \"\"))\n              .join(\" \") }, date.substring(8, 10)));\n        }))))),\n    ];\n  }\n  static get is() { return \"smoothly-calendar\"; }\n  static get encapsulation() { return \"scoped\"; }\n  static get originalStyleUrls() { return {\n    \"$\": [\"style.css\"]\n  }; }\n  static get styleUrls() { return {\n    \"$\": [\"style.css\"]\n  }; }\n  static get properties() { return {\n    \"month\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string | undefined\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"month\",\n      \"reflect\": false\n    },\n    \"value\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"value\",\n      \"reflect\": false,\n      \"defaultValue\": \"Date.now()\"\n    },\n    \"start\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string | undefined\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"start\",\n      \"reflect\": false\n    },\n    \"end\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string | undefined\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"end\",\n      \"reflect\": false\n    },\n    \"max\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"max\",\n      \"reflect\": false\n    },\n    \"min\": {\n      \"type\": \"string\",\n      \"mutable\": true,\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"min\",\n      \"reflect\": false\n    },\n    \"doubleInput\": {\n      \"type\": \"boolean\",\n      \"mutable\": false,\n      \"complexType\": {\n        \"original\": \"boolean\",\n        \"resolved\": \"boolean\",\n        \"references\": {}\n      },\n      \"required\": false,\n      \"optional\": false,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"attribute\": \"double-input\",\n      \"reflect\": true\n    }\n  }; }\n  static get states() { return {\n    \"firstSelected\": {}\n  }; }\n  static get events() { return [{\n      \"method\": \"valueChanged\",\n      \"name\": \"valueChanged\",\n      \"bubbles\": true,\n      \"cancelable\": true,\n      \"composed\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      }\n    }, {\n      \"method\": \"startChanged\",\n      \"name\": \"startChanged\",\n      \"bubbles\": true,\n      \"cancelable\": true,\n      \"composed\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      }\n    }, {\n      \"method\": \"endChanged\",\n      \"name\": \"endChanged\",\n      \"bubbles\": true,\n      \"cancelable\": true,\n      \"composed\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      }\n    }, {\n      \"method\": \"dateSet\",\n      \"name\": \"dateSet\",\n      \"bubbles\": true,\n      \"cancelable\": true,\n      \"composed\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"complexType\": {\n        \"original\": \"Date\",\n        \"resolved\": \"string\",\n        \"references\": {\n          \"Date\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      }\n    }, {\n      \"method\": \"dateRangeSet\",\n      \"name\": \"dateRangeSet\",\n      \"bubbles\": true,\n      \"cancelable\": true,\n      \"composed\": true,\n      \"docs\": {\n        \"tags\": [],\n        \"text\": \"\"\n      },\n      \"complexType\": {\n        \"original\": \"DateRange\",\n        \"resolved\": \"DateRange\",\n        \"references\": {\n          \"DateRange\": {\n            \"location\": \"import\",\n            \"path\": \"isoly\"\n          }\n        }\n      }\n    }]; }\n  static get elementRef() { return \"element\"; }\n  static get watchers() { return [{\n      \"propName\": \"start\",\n      \"methodName\": \"onStart\"\n    }, {\n      \"propName\": \"end\",\n      \"methodName\": \"onEnd\"\n    }]; }\n}\n"],"version":3}